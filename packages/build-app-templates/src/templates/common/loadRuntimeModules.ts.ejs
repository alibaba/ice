interface IRuntime<T> {
  loadModule: (module: { default: T } | T) => void;
}

async function loadRuntimeModules(runtime: IRuntime<Function>) {
  <% if (runtimeModules.length) {%>
    <% runtimeModules.filter((moduleInfo) => !moduleInfo.staticModule).forEach((runtimeModule) => { %>
      runtime.loadModule(await import('<%= runtimeModule.path %>'));
    <% }) %>
  <% } %>
}

export default loadRuntimeModules;
