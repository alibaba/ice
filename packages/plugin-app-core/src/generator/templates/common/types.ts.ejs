<% if (isReact) {%>
  import React from 'react';
<% } %>

<% if (isRax) {%>
  import { RaxNode, RaxElement, ComponentType } from 'rax';
<% } %>

<%- appConfigTypesImports %>
<%- appConfigAppTypesImports %>
<%- typesImports %>

interface IOnTabItemClickParams {
  from: string;
  path: string;
  text: string;
  index: number;
}

export interface IApp {
  rootId?: string;
  mountNode?: HTMLElement;
  <% if (isReact) {%>
    addProvider?: ({ children }: { children: React.ReactNode }) => React.ReactElement;
  <% } %>
  <% if (isRax) {%>
    addProvider?: ({ children }: { children: RaxNode }) => RaxElement;
  <% } %>
  getInitialData?: () => Promise<any>;
  <% if (isReact) {%>
    ErrorBoundaryFallback?: (error: any) => React.ComponentType,
  <% } %>
  <% if (isRax) {%>
    ErrorBoundaryFallback?: (error: any) => ComponentType,
  <% } %>
  onErrorBoundaryHander?: (error: Error, componentStack: string) => any;
  onLaunch?: () => any;
  onShow?: () => any;
  onHide?: () => any;
  onError?: (error: Error) => any;
  onTabItemClick?: ({ from, path, text, index }: IOnTabItemClickParams) => any;
  <% if (appConfigAppTypesImports) { %>
    <%- appConfigAppTypesExports %>
  <% } %>
  [key: string]: any;
}

<% if (appConfigTypesImports) { %>
  export interface IAppConfig {
    app?: IApp
    <%- appConfigTypesExports %>
  }
<% } %>

declare global {
  interface Window {
    __ICE_SSR_ENABLED__: any;
    __ICE_APP_DATA__: any;
    __ICE_PAGE_PROPS__: any;
  }
}
