---
title: 使用原则
order: 2
---

## 框架应用职责明确

框架应用只做两件事情：

1. 系统整体 Layout 的设计
2. 所有子应用的配置与注册

框架应用尽量避免包含具体页面的 UI 代码，如果框架应用做了过多的事情会带来以下问题：

- 框架应用样式代码太多，会增加子应用和框架应用样式冲突概率
- 框架应用为子应用提供其他能力比如一些全局 API，会破坏子应用的独立性，增加相互的耦合
- 框架应用本质是一个中心化的部分，变更后原则上需要回归所有子应用，因此需要保证职责的简单，越简单的东西越稳定

## 子应用的路由通过前缀约定管理

子应用尽量按照系统功能拆分，同时在路由上也可以跟功能同步，比如某个子应用负责商家相关事项，则可以将 `/seller` 的路由前缀分配给该子应用，这样无论对于管理还是单个子应用的开发都方便了很多。按照这个原则，子应用的分布应该是这样的：

- 通用页面子应用：`['/', '/message']`，一个系统只应该有这样一个子应用
- 商家子应用：`/seller`
- 帐号子应用：`/account`
- 发布子应用：`/publish`

如果不按照这个原则的话，子应用的分布则会逐渐变得混乱：

- 子应用 A：`['/list', '/common']`
- 子应用 B：`['/account/setting', '/seller/detail']`
- 子应用 C：`['/project']`