---
title: 前端资源发布
order: 12
---

> 如果是阿里内部同学，请参考 [文档](https://yuque.antfin-inc.com/ice/rdy99p/syvuzh)

前面的章节提到过前端代码开发完成后我们会执行 `npm run build` 命令来进行构建，接下来需要我们需要在 HTML 或者后端模板中引入构建好的 js&css 文件，这时候就需要将构建好的文件进行发布，静态资源的发布一般有两种方式：CDN 发布、通过后端服务托管。

## 资源发布

### CDN 发布

推荐通过 [阿里云 OSS](https://cn.aliyun.com/product/oss) 服务进行非覆盖式发布，每个版本建一个 `x.y.z` 的文件夹，然后将 `build` 资源复制进去，接着就可以通过 url 访问这些 CDN 资源了。

### 后端服务托管

一般情况下你只需要使用对应的 web 框架启动一个静态文件服务器，然后将构建好的 `build` 资源复制到对应目录下，即可在模板中通过 `https://127.0.0.1:6001/static/js/index.js` 的方式引入对应资源。

## 版本号管理

为了便于代码的回滚，我们推荐使用非覆盖式发布前端资源，每一次发布都会产生一个新的资源地址，比如：

- 0.1.0 版本：https://g.alicdn.com/creator/assets/0.1.0/index.js
- 0.1.1 版本：https://g.alicdn.com/creator/assets/0.1.1/index.js

这样我们每次发布前端资源后，只需要更新下后端模板里引用的前端资源地址即可。但是如果每次前端发布都需要更改后端代码同时发布一次后端应用，这样效率太低，因此我们推荐通过一些配置管理系统来管理前端版本，只需要在系统上点击发布即可将新的版本同步给对应的后端应用。
